<launch>

  <!--control_frequency [Hz]-->

  <arg name="control_frequency" default="30" />


  <!--joystick-->

  <include file="$(find joystick_tr)/launch/joystick_tr.launch" />


  <!--control wheel-->

  <include file="$(find wheelcontrol_tr)/launch/wheelcontrol_tr.launch">
  <arg name="frequency" value="$(arg control_frequency)" />
  </include>


  <!--mbed serial-->

  <node pkg="serial_test" name="mbed_RF" type="serial_test_node" output="screen">
    <param name = "port" value = "/dev/ttyACM0"/>
    <!--param name = "port" value = "/dev/serial/by-id/usb-STMicroelectronics_STM32_STLink_066EFF495051717867111945-if02"/-->
    <remap from="/Serial_sub_float" to="/control_RF" />
    <remap from="/Serial_pub_float" to="/odom_RF" />
  </node>

  <node pkg="serial_test" name="mbed_LF" type="serial_test_node" output="screen">
    <param name = "port" value = "/dev/ttyACM1"/>
    <!--param name = "port" value = "/dev/serial/by-id/usb-STMicroelectronics_STM32_STLink_066EFF495051717867111945-if02"/-->
    <remap from="/Serial_sub_float" to="/control_LF" />
    <remap from="/Serial_pub_float" to="/odom_LF" />
  </node>

  <node pkg="serial_test" name="mbed_LB" type="serial_test_node" output="screen">
    <param name = "port" value = "/dev/ttyACM2"/>
    <!--param name = "port" value = "/dev/serial/by-id/usb-STMicroelectronics_STM32_STLink_066EFF495051717867111945-if02"/-->
    <remap from="/Serial_sub_float" to="/control_LB" />
    <remap from="/Serial_pub_float" to="/odom_LB" />
  </node>

  <node pkg="serial_test" name="mbed_RB" type="serial_test_node" output="screen">
    <param name = "port" value = "/dev/ttyACM3"/>
    <!--param name = "port" value = "/dev/serial/by-id/usb-STMicroelectronics_STM32_STLink_066EFF495051717867111945-if02"/-->
    <remap from="/Serial_sub_float" to="/control_RB" />
    <remap from="/Serial_pub_float" to="/odom_RB" />
  </node>

</launch>